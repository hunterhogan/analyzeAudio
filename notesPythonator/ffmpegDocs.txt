ffmpeg.org
ffprobe Documentation
Table of Contents

    1 Synopsis
    2 Description
    3 Options
        3.1 Stream specifiers
        3.2 Generic options
        3.3 AVOptions
        3.4 Main options
    4 Writers
        4.1 default
        4.2 compact, csv
        4.3 flat
        4.4 ini
        4.5 json
        4.6 xml
    5 Timecode
    6 See Also

1 Synopsis

ffprobe [options] input_url
2 Description

ffprobe gathers information from multimedia streams and prints it in human- and machine-readable fashion.

For example it can be used to check the format of the container used by a multimedia stream and the format and type of each media stream contained in it.

If a url is specified in input, ffprobe will try to open and probe the url content. If the url cannot be opened or recognized as a multimedia file, a positive exit code is returned.

If no output is specified as output with o ffprobe will write to stdout.

ffprobe may be employed both as a standalone application or in combination with a textual filter, which may perform more sophisticated processing, e.g. statistical processing or plotting.

Options are used to list some of the formats supported by ffprobe or for specifying which information to display, and for setting how ffprobe will show it.

ffprobe output is designed to be easily parsable by a textual filter, and consists of one or more sections of a form defined by the selected writer, which is specified by the output_format option.

Sections may contain other nested sections, and are identified by a name (which may be shared by other sections), and an unique name. See the output of sections.

Metadata tags stored in the container or in the streams are recognized and printed in the corresponding "FORMAT", "STREAM", "STREAM_GROUP_STREAM" or "PROGRAM_STREAM" section.
3 Options

All the numerical options, if not specified otherwise, accept a string representing a number as input, which may be followed by one of the SI unit prefixes, for example: ’K’, ’M’, or ’G’.

If ’i’ is appended to the SI unit prefix, the complete prefix will be interpreted as a unit prefix for binary multiples, which are based on powers of 1024 instead of powers of 1000. Appending ’B’ to the SI unit prefix multiplies the value by 8. This allows using, for example: ’KB’, ’MiB’, ’G’ and ’B’ as number suffixes.

Options which do not take arguments are boolean options, and set the corresponding value to true. They can be set to false by prefixing the option name with "no". For example using "-nofoo" will set the boolean option with name "foo" to false.

Options that take arguments support a special syntax where the argument given on the command line is interpreted as a path to the file from which the actual argument value is loaded. To use this feature, add a forward slash ’/’ immediately before the option name (after the leading dash). E.g.

ffmpeg -i INPUT -/filter:v filter.script OUTPUT

will load a filtergraph description from the file named filter.script.
3.1 Stream specifiers
...
3.2 Generic options

...
3.3 AVOptions

...

3.4 Main options

-f format

    Force format to use.
-unit

    Show the unit of the displayed values.
-prefix

    Use SI prefixes for the displayed values. Unless the "-byte_binary_prefix" option is used all the prefixes are decimal.
-byte_binary_prefix

    Force the use of binary prefixes for byte values.
-sexagesimal

    Use sexagesimal format HH:MM:SS.MICROSECONDS for time values.
-pretty

    Prettify the format of the displayed values, it corresponds to the options "-unit -prefix -byte_binary_prefix -sexagesimal".
-output_format, -of, -print_format writer_name[=writer_options]

    Set the output printing format.

    writer_name specifies the name of the writer, and writer_options specifies the options to be passed to the writer.

    For example for printing the output in JSON format, specify:

    For more details on the available output printing formats, see the Writers section below.
-sections

    Print sections structure and section information, and exit. The output is not meant to be parsed by a machine.
-select_streams stream_specifier

    Select only the streams specified by stream_specifier. This option affects only the options related to streams (e.g. show_streams, show_packets, etc.).

    For example to show only audio streams, you can use the command:

    ffprobe -show_streams -select_streams a INPUT

    To show only video packets belonging to the video stream with index 1:

    ffprobe -show_packets -select_streams v:1 INPUT

-show_data

    Show payload data, as a hexadecimal and ASCII dump. Coupled with -show_packets, it will dump the packets’ data. Coupled with -show_streams, it will dump the codec extradata.

    The dump is printed as the "data" field. It may contain newlines.
-show_data_hash algorithm

    Show a hash of payload data, for packets with -show_packets and for codec extradata with -show_streams.
-show_error

    Show information about the error found when trying to probe the input.

    The error information is printed within a section with name "ERROR".
-show_format

    Show information about the container format of the input multimedia stream.

    All the container format information is printed within a section with name "FORMAT".
-show_format_entry name

    Like -show_format, but only prints the specified entry of the container format information, rather than all. This option may be given more than once, then all specified entries will be shown.

    This option is deprecated, use show_entries instead.
-show_entries section_entries

    Set list of entries to show.

    Entries are specified according to the following syntax. section_entries contains a list of section entries separated by :. Each section entry is composed by a section name (or unique name), optionally followed by a list of entries local to that section, separated by ,.

    If section name is specified but is followed by no =, all entries are printed to output, together with all the contained sections. Otherwise only the entries specified in the local section entries list are printed. In particular, if = is specified but the list of local entries is empty, then no entries will be shown for that section.

    Note that the order of specification of the local section entries is not honored in the output, and the usual display order will be retained.

    The formal syntax is given by:

    LOCAL_SECTION_ENTRIES ::= SECTION_ENTRY_NAME[,LOCAL_SECTION_ENTRIES]
    SECTION_ENTRY         ::= SECTION_NAME[=[LOCAL_SECTION_ENTRIES]]
    SECTION_ENTRIES       ::= SECTION_ENTRY[:SECTION_ENTRIES]

    For example, to show only the index and type of each stream, and the PTS time, duration time, and stream index of the packets, you can specify the argument:

    packet=pts_time,duration_time,stream_index : stream=index,codec_type

    To show all the entries in the section "format", but only the codec type in the section "stream", specify the argument:

    format : stream=codec_type

    To show all the tags in the stream and format sections:

    stream_tags : format_tags

    To show only the title tag (if available) in the stream sections:
-show_packets

    Show information about each packet contained in the input multimedia stream.

    The information for each single packet is printed within a dedicated section with name "PACKET".
-show_frames

    Show information about each frame and subtitle contained in the input multimedia stream.

    The information for each single frame is printed within a dedicated section with name "FRAME" or "SUBTITLE".
-show_log loglevel

    Show logging information from the decoder about each frame according to the value set in loglevel, (see -loglevel). This option requires -show_frames.

    The information for each log message is printed within a dedicated section with name "LOG".
-show_streams

    Show information about each media stream contained in the input multimedia stream.

    Each media stream information is printed within a dedicated section with name "STREAM".
-show_programs

    Show information about programs and their streams contained in the input multimedia stream.

    Each media stream information is printed within a dedicated section with name "PROGRAM_STREAM".
-show_stream_groups

    Show information about stream groups and their streams contained in the input multimedia stream.

    Each media stream information is printed within a dedicated section with name "STREAM_GROUP_STREAM".
-show_chapters

    Show information about chapters stored in the format.

    Each chapter is printed within a dedicated section with name "CHAPTER".
-count_frames

    Count the number of frames per stream and report it in the corresponding stream section.
-count_packets

    Count the number of packets per stream and report it in the corresponding stream section.
-read_intervals read_intervals

    Read only the specified intervals. read_intervals must be a sequence of interval specifications separated by ",". ffprobe will seek to the interval starting point, and will continue reading from that.

    Each interval is specified by two optional parts, separated by "%".

    The first part specifies the interval start position. It is interpreted as an absolute position, or as a relative offset from the current position if it is preceded by the "+" character. If this first part is not specified, no seeking will be performed when reading this interval.

    The second part specifies the interval end position. It is interpreted as an absolute position, or as a relative offset from the current position if it is preceded by the "+" character. If the offset specification starts with "#", it is interpreted as the number of packets to read (not including the flushing packets) from the interval start. If no second part is specified, the program will read until the end of the input.

    Note that seeking is not accurate, thus the actual interval start point may be different from the specified position. Also, when an interval duration is specified, the absolute end time will be computed by adding the duration to the interval start point found by seeking the file, rather than to the specified start value.

    The formal syntax is given by:

    INTERVAL  ::= [START|+START_OFFSET][%[END|+END_OFFSET]]
    INTERVALS ::= INTERVAL[,INTERVALS]

    A few examples follow.

        Seek to time 10, read packets until 20 seconds after the found seek point, then seek to position 01:30 (1 minute and thirty seconds) and read packets until position 01:45.
        Read only 42 packets after seeking to position 01:23:
        Read only the first 20 seconds from the start:
        Read from the start until position 02:30: 

-show_private_data, -private

    Show private data, that is data depending on the format of the particular shown element. This option is enabled by default, but you may need to disable it for specific uses, for example when creating XSD-compliant XML output.
-show_program_version

    Show information related to program version.

    Version information is printed within a section with name "PROGRAM_VERSION".
-show_library_versions

    Show information related to library versions.

    Version information for each library is printed within a section with name "LIBRARY_VERSION".
-show_versions

    Show information related to program and library versions. This is the equivalent of setting both -show_program_version and -show_library_versions options.
-show_pixel_formats

    Show information about all pixel formats supported by FFmpeg.

    Pixel format information for each format is printed within a section with name "PIXEL_FORMAT".
-show_optional_fields value

    Some writers viz. JSON and XML, omit the printing of fields with invalid or non-applicable values, while other writers always print them. This option enables one to control this behaviour. Valid values are always/1, never/0 and auto/-1. Default is auto.
-bitexact

    Force bitexact output, useful to produce output which is not dependent on the specific build.
-i input_url

    Read input_url.
-o output_url

    Write output to output_url. If not specified, the output is sent to stdout.

4 Writers

A writer defines the output format adopted by ffprobe, and will be used for printing all the parts of the output.

A writer may accept one or more arguments, which specify the options to adopt. The options are specified as a list of key=value pairs, separated by ":".

All writers support the following options:

string_validation, sv

    Set string validation mode.

    The following values are accepted.

    ‘fail’

        The writer will fail immediately in case an invalid string (UTF-8) sequence or code point is found in the input. This is especially useful to validate input metadata.
    ‘ignore’

        Any validation error will be ignored. This will result in possibly broken output, especially with the json or xml writer.
    ‘replace’

        The writer will substitute invalid UTF-8 sequences or code points with the string specified with the string_validation_replacement. 

    Default value is ‘replace’.
string_validation_replacement, svr

    Set replacement string to use in case string_validation is set to ‘replace’.

    In case the option is not specified, the writer will assume the empty string, that is it will remove the invalid sequences from the input strings. 

A description of the currently available writers follows.
4.1 default
...
4.2 compact, csv

...
4.3 flat

Flat format.

A free-form output where each line contains an explicit key=value, such as "streams.stream.3.tags.foo=bar". The output is shell escaped, so it can be directly embedded in sh scripts as long as the separator character is an alphanumeric character or an underscore (see sep_char option).

The description of the accepted options follows.

sep_char, s

    Separator character used to separate the chapter, the section name, IDs and potential tags in the printed field key.

    Default value is ‘.’.
hierarchical, h

    Specify if the section name specification should be hierarchical. If set to 1, and if there is more than one section in the current chapter, the section name will be prefixed by the name of the chapter. A value of 0 will disable this behavior.

    Default value is 1. 

4.4 ini

...
4.5 json

...
4.6 xml

...
5 Timecode

ffprobe supports Timecode extraction:

    MPEG1/2 timecode is extracted from the GOP, and is available in the video stream details (-show_streams, see timecode).
    MOV timecode is extracted from tmcd track, so is available in the tmcd stream metadata (-show_streams, see TAG:timecode).
    DV, GXF and AVI timecodes are available in format metadata (-show_format, see TAG:timecode). 

6 See Also

...